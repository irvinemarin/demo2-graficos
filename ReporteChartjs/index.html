<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte de Gerencial de la Corte Suprema</title>

    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300" rel="stylesheet"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Kanit" rel="stylesheet"/>
</head>

<body>
<main>
    <div style="display: flex">
        <img src="assets/logo-pj.png" style="height: 50px" alt="">
        <!--        <img src="assets/icon.png"-->
        <!--             style="height: 36px" alt="">-->
        <h1 style="text-align: center; width: 65%"> Reportes PJ
            <br><span>Visualización de estadísticas </span>
        </h1>

    </div>
    <div id="fondoPJ"></div>
    <hr>


    <div class="leftPanel no-print">
        <div class="contentBackground">
            <div class="listaReportes">
                <div class="item-report activate" onclick="onCLickListener('1','REPORTE DE INGRESOS',this)">
                    <p>REPORTE DE INGRESOS </p>
                </div>
                <div class="item-report item2" onclick="onCLickListener('2','REPORTE PROGRAMADOS',this)">
                    <p>REPORTE PROGRAMADOS</p>
                </div>
                <div class="item-report item3" onclick="onCLickListener('3','REPORTE ESCRITOS',this)">
                    <p>REPORTE ESCRITOS</p>
                </div>
            </div>
        </div>
    </div>
    <div style="position: fixed; top: 50%;left: 50% "
         id="spinnerGrafico" class="justify-content-center">
        <div class="spinner-border text-primary " style="width: 5rem; height: 5rem;" role="status">
            <!--                Loading-->
            <!--                <span class="sr-only">Loading...</span>-->
        </div>
    </div>
    <div class="mainPanel" id="mainPanelDiv">
        <div style="right: 0;position: absolute">
            <button type="button" class="btn btn-primary no-print" onclick="print()">IMPRIMIR</button>
        </div>

        <h2 class="loading">Espere un momento ...</h2>

        <section id="content01" class="cols-1">
            <figure>
                <p>Gráfico Grupo Bar</p>
                <div class="container-title">
                    <h3 id="tituloReporte1"></h3>
                </div>
                <div id="Contentchart7">
                    <canvas id="chart7"></canvas>
                </div>

            </figure>
        </section>

        <section

                id="content02" class="cols-1">
            <figure>
                <p>Gráfico Grupo Bar</p>
                <div class="container-title">
                    <h3 id="tituloReporte2"></h3>
                </div>

                <div id="Contentchart72">
                    <canvas id="chart72"></canvas>
                </div>
            </figure>
        </section>

        <section id="content03" class="cols-1">
            <figure>
                <p>Gráfico Grupo Bar</p>
                <div class="container-title">
                    <h3 id="tituloReporte3"></h3>
                </div>
                <div id="Contentchart73">
                    <canvas id="chart73"></canvas>
                </div>
            </figure>
        </section>

        <div class="row">

            <h3 id="tituloSalaFiltro"></h3>

            <div id="tablaContent01" style="margin-left: 40px ;display: block">

                <label for="selectableAnio">FILTRO AÑO</label>
                <BR>
                <select name="selectableAnio" id="selectableAnio">
                    <option value=""></option>
                </select>
            </div>


            <div id="tablaContent02" style="display: block; margin-left: 16px">
                <label for="selectableFiltroSala">FILTRO SALAS</label>
                <BR>
                <select name="selectableFiltroSala" id="selectableFiltroSala">
                    <option value=""></option>
                </select>
            </div>

            <div class="cols-2" style="width: 100%">
                <div>

                    <figure id="figureContent01">
                        <div>
                            <!--                        <button onclick="loadGraficoDetalle('01')">GRAFICAR TABLA</button>-->

                            <label for="selectable01">FILTRO </label>
                            <BR>
                            <select name="selectable01" id="selectable01">
                                <option value=""></option>
                            </select>
                        </div>
                        <div id="spinner01" class="justify-content-center">
                            <div class="spinner-border text-primary" role="status">
                                <span class="sr-only">...</span> <!-- Loading -->
                            </div>
                        </div>
                        <BR>
                        <table class="greyGridTable" id="table01" style="background-color: #ffffff; width: 100%;">
                            <thead>
                            <tr id="headerTable01">
                            </tr>
                            </thead>
                            <tbody id="bodyTable01">
                            </tbody>
                        </table>
                    </figure>
                    <p id="txtResultado01" style="display: none">Sin resultados.</p>
                </div>
                <div>
                    <figure
                            id="figureContent02"
                            class="col-12">
                        <div>
                            <!--                        <button onclick="loadGraficoDetalle('02')">GRAFICAR TABLA</button>-->

                            <label for="selectable02">FILTRO</label>
                            <BR>
                            <select name="selectable02" id="selectable02">
                                <option value=""></option>
                            </select>
                        </div>
                        <div id="spinner02" class=" justify-content-center">
                            <div class="spinner-border text-primary" role="status">
                                <span class="sr-only">...</span>  <!-- Loading -->
                            </div>
                        </div>
                        <BR>
                        <table class="greyGridTable" id="table02" style=" width: 100%!important;">
                            <thead>
                            <tr id="headerTable02">
                            </tr>
                            </thead>
                            <tbody id="bodyTable02">
                            </tbody>
                        </table>
                    </figure>
                    <p id="txtResultado02" style="display: none">Sin resultados.</p>

                </div>

            </div>
        </div>
    </div>
</main>
<!--
<footer>
    <div class="footer-custom no-print">
        <br>
        <img
                height="25"
                src="assets/icongray_0Recurso%205@4x.png" alt="" srcset="">
        @Innovación Judicial 2022
        <br>
        Todos los derechos Reservados
    </div>
</footer>
-->

<!-- ChartJS -->
<script src="Chartjs/Chart.min.js"></script>

<!-- Styles for charts -->
<script src="js/chartStyles.js"></script>

<!-- DCharts development -->
<script src="./config.js"></script>
<script src="js/script.js"></script>

<script>
    function onCLickListener(position, titulo, e) {
        var ittulo = document.getElementById("tituloReporte1")
        var ittulo2 = document.getElementById("tituloReporte2")
        var ittulo3 = document.getElementById("tituloReporte3")
        ittulo.innerText = titulo;
        ittulo2.innerText = titulo;
        ittulo3.innerText = titulo;


        //console.log(event)

        var listaItems = document.getElementsByClassName("item-report")

        for (var i = 0; i < listaItems.length; i++) {
            // console.log(listaItems[i])
            listaItems[i].classList.remove("activate");
        }
        e.classList.add("activate");
        var figure = document.getElementById("figureContent0" + position)

        // alert(position)
        if (position == 1) {

            figure.style.display = "none"

            alert("Ejecutando servicio getListadoExpIngresos")


            fetch(gethostApi() + 'getListadoExpIngresos', {
                method: 'get',
                headers: new Headers({
                    'authorization': 'eyJhbGciOiJIUzI1NiJ9.c3VwcmVtYQ.cpUyTYcgm8ixIVDTLe-Fua0RLkyUKg8yy2IkAOfKi2I',
                    'Content-Type': 'application/json'
                })
            })
                .then(response => response.json())
                .then(
                    (data) => {
                        if (data.length > 0) {
                            printCharts(data, position, titulo)
                            figure.style.display = "block"

                        } else {
                            alert("No se encontraron Resultados")
                        }
                    },
                    onerror => {
                        alert("Servicio no Disponible")
                    })

        }
        if (position == 2) {
            alert("Ejecutando servicio getListadoProgramaciones")

            fetch(gethostApi() + 'getListadoProgramaciones', {
                method: 'get',
                headers: new Headers({
                    'authorization': 'eyJhbGciOiJIUzI1NiJ9.c3VwcmVtYQ.cpUyTYcgm8ixIVDTLe-Fua0RLkyUKg8yy2IkAOfKi2I',
                    'Content-Type': 'application/json'
                })
            })
                .then(response => response.json())
                .then(
                    (data) => {
                        if (data.length > 0) {
                            printCharts(data, position, titulo)
                            figure.style.display = "block"

                        } else {
                            alert("No se encontraron Resultados")
                        }
                    },
                    onerror => {
                        alert("Servicio no Disponible")
                    })
        }
        if (position == 3) {
            alert("Ejecutando servicio getListadoEscritosAnual")


            fetch(gethostApi() + 'getListadoEscritosAnual/2022', {
                method: 'get',
                headers: new Headers({
                    'authorization': 'eyJhbGciOiJIUzI1NiJ9.c3VwcmVtYQ.cpUyTYcgm8ixIVDTLe-Fua0RLkyUKg8yy2IkAOfKi2I',
                    'Content-Type': 'application/json'
                })
            })
                .then(response => response.json())
                .then(
                    (data) => {
                        if (data.length > 0) {
                            printCharts(data, position, titulo)
                            figure.style.display = "block"

                        } else {
                            alert("No se encontraron Resultados")
                        }
                    },
                    onerror => {
                        alert("Servicio no Disponible")
                    })
        }
    }
</script>
</body>

</html>
